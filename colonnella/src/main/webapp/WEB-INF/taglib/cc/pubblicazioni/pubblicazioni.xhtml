<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:cc="http://colonnella/taglib" xmlns:flw="http://jflower/taglib">

	<!-- 
	parametri: selectedStyleClass, selectedClass, label, showpages, pagesize, cellaprimaClass
	 -->

	<table class="table1" width="100%" cellpadding="0" cellspacing="0"
		border="0"
		summary="Questa tabella contiene la lista delle pubblicazioni dell'Albo pretorio">

		<tr align="left">
			<th scope="col" class="topleftth">Uff. Prop.</th>
			<th scope="col" class="luogoth">Tipologia</th>
			<th scope="col" class="titoloth">Sintesi</th>
			<th scope="col" class="topleftth">Pubblicazione</th>
			<th scope="col" class="luogoth">Validita' dal</th>
			<th scope="col" class="luogoth">Validita' al</th>
			<th scope="col" class="titoloth">Allegato</th>
		</tr>
		<flw:uiRepeatPagedWithParams id="pubblicazioni" label="#{label}"
			filtro="#{pubblicazioniHandlerRequest.filtro}" tipo="#{tipo}"
			currentpage="#{pubblicazioniHandlerRequest.currentpage}"
			selectedStyleClass="#{selectedStyleClass}" styleClass="#{styleClass}"
			handler="#{pubblicazioniHandlerRequest}" width="100%">

			<tr>
				<td class="cellaprima">#{var.autore}</td>
				<td>#{var.tipo.nome}</td>
				<td>#{var.titolo}</td>
				<td><h:outputText value="#{var.data}">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText></td>
				<td><h:outputText value="#{var.dal}">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText></td>
				<td><h:outputText value="#{var.al}">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText></td>
				<td><h:outputLink
					value="#{request.contextPath}/docs/#{var.documenti.get(0).filename}"
					alt="lista" title="Scarica pdf" target="_blank"
					rendered="#{var.docSize >0}">
					<h:graphicImage value="/images/pdf.gif"
						alt="Scarica la documentazione in formato PDF (Acrobat Reader)"
						style="border: 0" />
				</h:outputLink></td>
			</tr>

		</flw:uiRepeatPagedWithParams>
	</table>

</ui:composition>
