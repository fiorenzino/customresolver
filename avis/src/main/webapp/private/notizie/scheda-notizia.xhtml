<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:flw="http://jflower/taglib" template="/WEB-INF/layout/t.xhtml">

	<ui:define name="title">
		<h:outputText value="Scheda Notizia" />
	</ui:define>
	<ui:define name="content">
		<h:form>
			<center><p:panel header="Scheda Notizia">

				<h:panelGrid columns="2">
					<h:outputLabel for="titolo" style="font-weight: bolder;"
						value="Titolo: " />
					<h:outputText id="titolo" value="#{notizieHandler.notizia.titolo}" />

					<h:outputLabel for="autore" style="font-weight: bolder;"
						value="Autore: " />
					<h:outputText id="autore" value="#{notizieHandler.notizia.autore}"
						width="640px" height="320px"></h:outputText>

					<h:outputLabel for="tipo" style="font-weight: bolder;"
						value="Tipo informazione: " />
					<h:outputText id="tipo" value="#{notizieHandler.notizia.tipo.nome}"
						width="640px" height="320px"></h:outputText>

					<h:outputLabel for="anteprima" style="font-weight: bolder;"
						value="Anteprima: " />
					<h:outputText id="anteprima"
						value="#{notizieHandler.notizia.anteprima}" />

					<h:outputLabel for="contenuto" style="font-weight: bolder;"
						value="Contenuto: " />
					<h:outputText id="contenuto"
						value="#{notizieHandler.notizia.contenuto}" escape="false" />
				</h:panelGrid>

				<h2>Documenti</h2>

				<ui:repeat var="doc" value="#{notizieHandler.notizia.documenti}">
					<h:outputLink value="/docs/#{doc.filename}" title="#{doc.filename}">
						<h:outputText value="#{doc.filename}" />
						<br />
					</h:outputLink>
					<br />
				</ui:repeat>

				<h2>Immagini</h2>

				<p:lightBox>
					<ui:repeat var="var" value="#{notizieHandler.notizia.immagini}">
						<h:outputLink value="/img/#{var.filename}" title="#{var.filename}">
							<h:graphicImage value="/img/#{var.filename}"
								width="#{flw:proportionalWidth(var.filePath,100,100)}"
								height="#{flw:proportionalHeight(var.filePath,100,100)}"
								alt="#{var.filename}" title="#{var.filename}" />
						</h:outputLink>
						<h:outputText id="so" value="***" escape="false" />
					</ui:repeat>
				</p:lightBox>

			</p:panel> <br />
			<br />
			<h:panelGrid columns="1">
				<h:commandButton
					action="#{notizieHandler.modNotizia(notizieHandler.element.id)}"
					value="Modifica" />
			</h:panelGrid></center>
		</h:form>

	</ui:define>
</ui:composition>